<!DOCTYPE html>
<html class="h-100" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/header :: head_fragment(title = 'ユーザー一覧')">

<body class="">

    <div class="contents">
        <!-- サイドバー -->
        <div th:replace="common/side_bar :: side_bar"></div>

        <!-- メイン -->
        <div class="content-mains">
            <div class="content-mains_inner">
                <div class="page_title">ユーザー一覧</div>

                <table class="user_tables">
                    <thead class="user_tables-thead">
                        <tr class="thead-tr">
                            <th>ID</th>
                            <th></th>
                            <th>氏名</th>
                            <th>職種</th>
                            <th>メールアドレス</th>
                            <th class="thead-th-chatwork">chatwork ID</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr class="tbody-tr" th:each="employee:${employees}" th:attr="data-href=@{/employees/{id}(id=${employee.id})}">

                            <input type="hidden" name="id">
                            <td class="user_tables-id" th:text="${employee.id}"></td>
                            <td class="user_tables-image">
                                <img th:src="@{/img/icons/human-icon-white.png}" alt="" class="user_tables-profileimage">
                            </td>
                            <td class="user_tables-name" th:text="${employee.name}"></td>
                            <td class="user_tables-department" th:text="${employee.department}"></td>
                            <td class="user_tables-email" th:text="${employee.email}"></td>
                            <td class="user_tables-chatwork"></td>

                            <td class="user_tables-allows">
                                <img src="./img/icons/allow-sb.png" alt="" class="user_tables-allow">
                            </td>

                        </tr>
                    </tbody>
                </table>
                <nav aria-label="Page navigation example" class="mt-4">
                    <ul class="pagination justify-content-end">
                      <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                      </li>
                      <li class="page-item"><a class="page-link" href="#">1</a></li>
                      <li class="page-item"><a class="page-link" href="#">2</a></li>
                      <li class="page-item"><a class="page-link" href="#">3</a></li>
                      <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                      </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const rows = document.querySelectorAll('.tbody-tr');
            rows.forEach(row => {
                row.addEventListener('click', function () {
                    const href = this.getAttribute('data-href');
                    if (href) {
                        window.location.href = href;
                    }
                });
            });
        });
    </script>


</body>
</html>